<html>
  <head>
    <style >
      li {
        margin: 20px;
        display: inline-block;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background-color: gray;
      }
      .green {
        background-color: green;
      }
      .yellow {
        background-color: yellow;
      }
      .red {
        background-color: red;
      }
    </style>
  </head>
  <body>
    <ul>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </body>
  
  <script>
    
    
    function sleep(t) {
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve()
        }, t);
      })
    }

    function showLight(target, color) {
      let li = document.getElementsByTagName("li");
      li[0].className=""
      li[1].className=""
      li[2].className=""
      li[target].className = color
    }
    
    function go() {
      showLight(0, "green");
    
      sleep(10000).then(() => {
        showLight(1, "yellow");
        return sleep(2000)
      }).then(() => {
        showLight(2, "red");
        return sleep(5000)
      }).then(() => {
        go();
      })
    }

   go();
</script>

</html>